"use strict";(self["webpackChunkprject"]=self["webpackChunkprject"]||[]).push([[306],{8306:function(e,a,t){t.r(a),t.d(a,{default:function(){return v}});var l=t(6768),n=t(4232);const d={class:"event-list"},i={class:"card-header"};function r(e,a,t,r,o,u){const p=(0,l.g2)("el-button"),b=(0,l.g2)("el-table-column"),s=(0,l.g2)("el-tag"),g=(0,l.g2)("el-table"),v=(0,l.g2)("el-pagination"),c=(0,l.g2)("el-card"),_=(0,l.g2)("el-descriptions-item"),f=(0,l.g2)("el-descriptions"),k=(0,l.g2)("el-dialog"),h=(0,l.gN)("loading");return(0,l.uX)(),(0,l.CE)("div",d,[(0,l.bF)(c,null,{header:(0,l.k6)(()=>[(0,l.Lk)("div",i,[a[4]||(a[4]=(0,l.Lk)("span",null,"事件管理",-1)),(0,l.bF)(p,{type:"primary",onClick:r.handleAdd},{default:(0,l.k6)(()=>[...a[3]||(a[3]=[(0,l.eW)("新增事件",-1)])]),_:1},8,["onClick"])])]),default:(0,l.k6)(()=>[(0,l.bo)(((0,l.uX)(),(0,l.Wv)(g,{data:r.tableData,border:""},{default:(0,l.k6)(()=>[(0,l.bF)(b,{prop:"id",label:"ID",width:"80"}),(0,l.bF)(b,{prop:"patientId",label:"病人ID"}),(0,l.bF)(b,{prop:"equipmentId",label:"设备ID"}),(0,l.bF)(b,{prop:"occurTime",label:"发生时间"}),(0,l.bF)(b,{prop:"eventType",label:"事件类型"},{default:(0,l.k6)(({row:e})=>[(0,l.eW)((0,n.v_)(r.getEventTypeText(e.eventType)),1)]),_:1}),(0,l.bF)(b,{prop:"eventLevel",label:"严重等级"},{default:(0,l.k6)(({row:e})=>[(0,l.bF)(s,{type:r.getEventLevelType(e.eventLevel)},{default:(0,l.k6)(()=>[(0,l.eW)((0,n.v_)(r.getEventLevelText(e.eventLevel)),1)]),_:2},1032,["type"])]),_:1}),(0,l.bF)(b,{prop:"heartRate",label:"心率"}),(0,l.bF)(b,{prop:"respRate",label:"呼吸率"}),(0,l.bF)(b,{prop:"handledStatus",label:"处理状态"},{default:(0,l.k6)(({row:e})=>[(0,l.eW)((0,n.v_)(r.getHandledStatusText(e.handledStatus)),1)]),_:1}),(0,l.bF)(b,{label:"操作",width:"150",fixed:"right"},{default:(0,l.k6)(({row:e})=>[(0,l.bF)(p,{type:"primary",size:"small",onClick:a=>r.handleView(e)},{default:(0,l.k6)(()=>[...a[5]||(a[5]=[(0,l.eW)("查看",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])),[[h,r.loading]]),(0,l.bF)(v,{"current-page":r.pagination.current,"onUpdate:currentPage":a[0]||(a[0]=e=>r.pagination.current=e),"page-size":r.pagination.size,"onUpdate:pageSize":a[1]||(a[1]=e=>r.pagination.size=e),total:r.pagination.total,"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",onSizeChange:r.handleSizeChange,onCurrentChange:r.handleCurrentChange,style:{"margin-top":"20px","justify-content":"flex-end"}},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"])]),_:1}),(0,l.bF)(k,{modelValue:r.detailDialogVisible,"onUpdate:modelValue":a[2]||(a[2]=e=>r.detailDialogVisible=e),title:"事件详情",width:"800px"},{default:(0,l.k6)(()=>[(0,l.bF)(f,{column:2,border:""},{default:(0,l.k6)(()=>[(0,l.bF)(_,{label:"事件ID"},{default:(0,l.k6)(()=>[(0,l.eW)((0,n.v_)(r.detailData.id),1)]),_:1}),(0,l.bF)(_,{label:"病人ID"},{default:(0,l.k6)(()=>[(0,l.eW)((0,n.v_)(r.detailData.patientId),1)]),_:1}),(0,l.bF)(_,{label:"设备ID"},{default:(0,l.k6)(()=>[(0,l.eW)((0,n.v_)(r.detailData.equipmentId),1)]),_:1}),(0,l.bF)(_,{label:"事件类型"},{default:(0,l.k6)(()=>[(0,l.eW)((0,n.v_)(r.getEventTypeText(r.detailData.eventType)),1)]),_:1}),(0,l.bF)(_,{label:"严重等级"},{default:(0,l.k6)(()=>[(0,l.eW)((0,n.v_)(r.getEventLevelText(r.detailData.eventLevel)),1)]),_:1}),(0,l.bF)(_,{label:"发生时间"},{default:(0,l.k6)(()=>[(0,l.eW)((0,n.v_)(r.detailData.occurTime),1)]),_:1}),(0,l.bF)(_,{label:"上报时间"},{default:(0,l.k6)(()=>[(0,l.eW)((0,n.v_)(r.detailData.reportTime),1)]),_:1}),(0,l.bF)(_,{label:"心率"},{default:(0,l.k6)(()=>[(0,l.eW)((0,n.v_)(r.detailData.heartRate),1)]),_:1}),(0,l.bF)(_,{label:"呼吸率"},{default:(0,l.k6)(()=>[(0,l.eW)((0,n.v_)(r.detailData.respRate),1)]),_:1}),(0,l.bF)(_,{label:"健康评分"},{default:(0,l.k6)(()=>[(0,l.eW)((0,n.v_)(r.detailData.healthScore),1)]),_:1}),(0,l.bF)(_,{label:"处理状态"},{default:(0,l.k6)(()=>[(0,l.eW)((0,n.v_)(r.getHandledStatusText(r.detailData.handledStatus)),1)]),_:1}),(0,l.bF)(_,{label:"事件描述",span:2},{default:(0,l.k6)(()=>[(0,l.eW)((0,n.v_)(r.detailData.eventDetail),1)]),_:1})]),_:1})]),_:1},8,["modelValue"])])}var o=t(144),u=t(1219),p=t(466),b={name:"EventList",setup(){const e=(0,o.KR)(!1),a=(0,o.KR)(!1),t=(0,o.KR)([]),n=(0,o.KR)({}),d=(0,o.Kh)({current:1,size:10,total:0}),i=e=>{const a={1:"心率异常",2:"呼吸异常",3:"离床"};return a[e]||"未知"},r=e=>{const a={1:"轻度",2:"中度",3:"重度",4:"危急"};return a[e]||"未知"},b=e=>{const a={1:"info",2:"warning",3:"danger",4:"danger"};return a[e]||"info"},s=e=>{const a={0:"未处理",1:"已确认",2:"已处理",3:"已忽略"};return a[e]||"未知"},g=async()=>{e.value=!0;try{const e=await p.vF.getPage({current:d.current,size:d.size});200!==e.code&&e.code||(t.value=e.data?.records||[],d.total=e.data?.total||0)}catch(a){u.nk.error("加载数据失败")}finally{e.value=!1}},v=()=>{u.nk.info("新增功能待实现")},c=async e=>{try{const t=await p.vF.listByPatientId(e.patientId);200!==t.code&&t.code||(n.value=t.data||e,a.value=!0)}catch(t){n.value=e,a.value=!0}},_=()=>{g()},f=()=>{g()};return(0,l.sV)(()=>{g()}),{loading:e,detailDialogVisible:a,tableData:t,detailData:n,pagination:d,getEventTypeText:i,getEventLevelText:r,getEventLevelType:b,getHandledStatusText:s,handleAdd:v,handleView:c,handleSizeChange:_,handleCurrentChange:f}}},s=t(1241);const g=(0,s.A)(b,[["render",r],["__scopeId","data-v-5e61c3cf"]]);var v=g}}]);
//# sourceMappingURL=306.c89307b0.js.map