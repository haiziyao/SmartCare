{"version":3,"file":"js/306.c89307b0.js","mappings":"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","sources":["webpack://prject/./src/views/event/EventList.vue","webpack://prject/./src/views/event/EventList.vue?1dff"],"sourcesContent":["<template>\r\n  <div class=\"event-list\">\r\n    <el-card>\r\n      <template #header>\r\n        <div class=\"card-header\">\r\n          <span>事件管理</span>\r\n          <el-button type=\"primary\" @click=\"handleAdd\">新增事件</el-button>\r\n        </div>\r\n      </template>\r\n\r\n      <el-table :data=\"tableData\" v-loading=\"loading\" border>\r\n        <el-table-column prop=\"id\" label=\"ID\" width=\"80\" />\r\n        <el-table-column prop=\"patientId\" label=\"病人ID\" />\r\n        <el-table-column prop=\"equipmentId\" label=\"设备ID\" />\r\n        <el-table-column prop=\"occurTime\" label=\"发生时间\" />\r\n        <el-table-column prop=\"eventType\" label=\"事件类型\">\r\n          <template #default=\"{ row }\">\r\n            {{ getEventTypeText(row.eventType) }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"eventLevel\" label=\"严重等级\">\r\n          <template #default=\"{ row }\">\r\n            <el-tag :type=\"getEventLevelType(row.eventLevel)\">\r\n              {{ getEventLevelText(row.eventLevel) }}\r\n            </el-tag>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"heartRate\" label=\"心率\" />\r\n        <el-table-column prop=\"respRate\" label=\"呼吸率\" />\r\n        <el-table-column prop=\"handledStatus\" label=\"处理状态\">\r\n          <template #default=\"{ row }\">\r\n            {{ getHandledStatusText(row.handledStatus) }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"操作\" width=\"150\" fixed=\"right\">\r\n          <template #default=\"{ row }\">\r\n            <el-button type=\"primary\" size=\"small\" @click=\"handleView(row)\">查看</el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n\r\n      <el-pagination\r\n        v-model:current-page=\"pagination.current\"\r\n        v-model:page-size=\"pagination.size\"\r\n        :total=\"pagination.total\"\r\n        :page-sizes=\"[10, 20, 50, 100]\"\r\n        layout=\"total, sizes, prev, pager, next, jumper\"\r\n        @size-change=\"handleSizeChange\"\r\n        @current-change=\"handleCurrentChange\"\r\n        style=\"margin-top: 20px; justify-content: flex-end\"\r\n      />\r\n    </el-card>\r\n\r\n    <!-- 查看详情对话框 -->\r\n    <el-dialog v-model=\"detailDialogVisible\" title=\"事件详情\" width=\"800px\">\r\n      <el-descriptions :column=\"2\" border>\r\n        <el-descriptions-item label=\"事件ID\">{{ detailData.id }}</el-descriptions-item>\r\n        <el-descriptions-item label=\"病人ID\">{{ detailData.patientId }}</el-descriptions-item>\r\n        <el-descriptions-item label=\"设备ID\">{{ detailData.equipmentId }}</el-descriptions-item>\r\n        <el-descriptions-item label=\"事件类型\">{{ getEventTypeText(detailData.eventType) }}</el-descriptions-item>\r\n        <el-descriptions-item label=\"严重等级\">{{ getEventLevelText(detailData.eventLevel) }}</el-descriptions-item>\r\n        <el-descriptions-item label=\"发生时间\">{{ detailData.occurTime }}</el-descriptions-item>\r\n        <el-descriptions-item label=\"上报时间\">{{ detailData.reportTime }}</el-descriptions-item>\r\n        <el-descriptions-item label=\"心率\">{{ detailData.heartRate }}</el-descriptions-item>\r\n        <el-descriptions-item label=\"呼吸率\">{{ detailData.respRate }}</el-descriptions-item>\r\n        <el-descriptions-item label=\"健康评分\">{{ detailData.healthScore }}</el-descriptions-item>\r\n        <el-descriptions-item label=\"处理状态\">{{ getHandledStatusText(detailData.handledStatus) }}</el-descriptions-item>\r\n        <el-descriptions-item label=\"事件描述\" :span=\"2\">{{ detailData.eventDetail }}</el-descriptions-item>\r\n      </el-descriptions>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, reactive, onMounted } from 'vue'\r\nimport { ElMessage } from 'element-plus'\r\nimport { eventApi } from '../../api'\r\n\r\nexport default {\r\n  name: 'EventList',\r\n  setup() {\r\n    const loading = ref(false)\r\n    const detailDialogVisible = ref(false)\r\n    const tableData = ref([])\r\n    const detailData = ref({})\r\n\r\n    const pagination = reactive({\r\n      current: 1,\r\n      size: 10,\r\n      total: 0\r\n    })\r\n\r\n    const getEventTypeText = (type) => {\r\n      const map = { 1: '心率异常', 2: '呼吸异常', 3: '离床' }\r\n      return map[type] || '未知'\r\n    }\r\n\r\n    const getEventLevelText = (level) => {\r\n      const map = { 1: '轻度', 2: '中度', 3: '重度', 4: '危急' }\r\n      return map[level] || '未知'\r\n    }\r\n\r\n    const getEventLevelType = (level) => {\r\n      const map = { 1: 'info', 2: 'warning', 3: 'danger', 4: 'danger' }\r\n      return map[level] || 'info'\r\n    }\r\n\r\n    const getHandledStatusText = (status) => {\r\n      const map = { 0: '未处理', 1: '已确认', 2: '已处理', 3: '已忽略' }\r\n      return map[status] || '未知'\r\n    }\r\n\r\n    const loadData = async () => {\r\n      loading.value = true\r\n      try {\r\n        const res = await eventApi.getPage({\r\n          current: pagination.current,\r\n          size: pagination.size\r\n        })\r\n        if (res.code === 200 || !res.code) {\r\n          tableData.value = res.data?.records || []\r\n          pagination.total = res.data?.total || 0\r\n        }\r\n      } catch (error) {\r\n        ElMessage.error('加载数据失败')\r\n      } finally {\r\n        loading.value = false\r\n      }\r\n    }\r\n\r\n    const handleAdd = () => {\r\n      ElMessage.info('新增功能待实现')\r\n    }\r\n\r\n    const handleView = async (row) => {\r\n      try {\r\n        const res = await eventApi.listByPatientId(row.patientId)\r\n        if (res.code === 200 || !res.code) {\r\n          detailData.value = res.data || row\r\n          detailDialogVisible.value = true\r\n        }\r\n      } catch (error) {\r\n        detailData.value = row\r\n        detailDialogVisible.value = true\r\n      }\r\n    }\r\n\r\n    const handleSizeChange = () => {\r\n      loadData()\r\n    }\r\n\r\n    const handleCurrentChange = () => {\r\n      loadData()\r\n    }\r\n\r\n    onMounted(() => {\r\n      loadData()\r\n    })\r\n\r\n    return {\r\n      loading,\r\n      detailDialogVisible,\r\n      tableData,\r\n      detailData,\r\n      pagination,\r\n      getEventTypeText,\r\n      getEventLevelText,\r\n      getEventLevelType,\r\n      getHandledStatusText,\r\n      handleAdd,\r\n      handleView,\r\n      handleSizeChange,\r\n      handleCurrentChange\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.card-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n</style>\r\n\r\n\r\n","import { render } from \"./EventList.vue?vue&type=template&id=5e61c3cf&scoped=true\"\nimport script from \"./EventList.vue?vue&type=script&lang=js\"\nexport * from \"./EventList.vue?vue&type=script&lang=js\"\n\nimport \"./EventList.vue?vue&type=style&index=0&id=5e61c3cf&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5e61c3cf\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_createVNode","_component_el_card","header","_withCtx","_createElementVNode","_hoisted_2","_component_el_button","type","onClick","$setup","handleAdd","_cache","_createBlock","_component_el_table","data","tableData","border","_component_el_table_column","prop","label","width","default","row","getEventTypeText","eventType","_component_el_tag","getEventLevelType","eventLevel","getEventLevelText","getHandledStatusText","handledStatus","fixed","size","$event","handleView","loading","_component_el_pagination","pagination","current","total","layout","onSizeChange","handleSizeChange","onCurrentChange","handleCurrentChange","style","_component_el_dialog","detailDialogVisible","title","_component_el_descriptions","column","_component_el_descriptions_item","detailData","id","patientId","equipmentId","occurTime","reportTime","heartRate","respRate","healthScore","span","eventDetail","name","setup","ref","reactive","map","level","status","loadData","async","value","res","eventApi","getPage","code","records","error","ElMessage","info","listByPatientId","onMounted","__exports__","render"],"ignoreList":[],"sourceRoot":""}